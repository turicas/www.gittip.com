from gittip.networks import github
^L
^L
{% extends templates/base.html %}
{% block body %}
<style>
    H2 {
        padding-top: 100px;
    }
    .chart {
        position: relative;
        width: 600px;
        height: 400px;
    }
    .point {
        font-size: 14px;
        line-height: 14px;
        position: absolute;
        top: 0;
        left: 0;
    }
    .x-axis {
        text-align: center;
    }
</style>

<p class="below-header"><a href="./">About</a></p>

<h3>Welcome!</h3>

<p><a href="/">Gittip</a> is a way to support people who build free culture.
Primarily right now it works for open source programmers. This page shows
Gittip&rsquo;s growth since it launched 11 weeks ago.</p>

<p>If you use free software, consider <a
    href="{{ github.oauth_url(website, u'opt-in', u'/') }}">joining Gittip</a>
using your GitHub account and setting up a $1 per week tip to your favorite
free software developer. Thanks!</p>

<h2 style="margin-top: 0; padding-top: 64px">Registrations</h2>
<div class="chart" id="participants"></div>

<h2>Tippers a.k.a. Funders</h2>
<div class="chart" id="tippers"></div>

<h2>Transfer Volume (USD)</h2>
<div class="chart" id="volume"></div>

<script type="text/javascript" src="/assets/jquery.flot.js"></script>
<script type="text/javascript" src="/assets/jquery.flot.time.js"></script>
<script type="text/javascript">
jQuery(document).ready(function() {
  jQuery.get('/about/paydays.json', function(paydays) {
    var participants = [];
    var tippers = [];
    var transferVolume = [];
    for (var index = 0; index < paydays.length; index++) {
      var data = paydays[index];
      var timestamp = new Date(data['ts_start']);
      participants.push([timestamp, data['nparticipants']]);
      tippers.push([timestamp, data['ntippers']]);
      transferVolume.push([timestamp, data['transfer_volume']]);
    }
    var options = { xaxis: { mode: "time" } };
    jQuery.plot(jQuery('#volume'), [ transferVolume ], options);
    jQuery.plot(jQuery('#tippers'), [ tippers ], options);
    jQuery.plot(jQuery('#participants'), [ participants ], options);
  });
});
</script>
{% end %}
